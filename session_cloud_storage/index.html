
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.0">
    
    
      
        <title>· Cloud Storage - MSU Cloud Computing Fellowship</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#session-3-cloud-storage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MSU Cloud Computing Fellowship" class="md-header__button md-logo" aria-label="MSU Cloud Computing Fellowship" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MSU Cloud Computing Fellowship
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              · Cloud Storage
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MSU Cloud Computing Fellowship" class="md-nav__button md-logo" aria-label="MSU Cloud Computing Fellowship" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    MSU Cloud Computing Fellowship
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contact/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Sessions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sessions" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Sessions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../session_introduction/" class="md-nav__link">
        · Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../session_how_to_cloud/" class="md-nav__link">
        · How does the cloud work?
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          · Cloud Storage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        · Cloud Storage
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meeting-september-30-200-330pm" class="md-nav__link">
    Meeting September 30 2:00-3:30pm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#readings" class="md-nav__link">
    Readings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activities" class="md-nav__link">
    Activities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#post-session-discussion-points" class="md-nav__link">
    Post-session discussion points
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional-activities" class="md-nav__link">
    Optional Activities:
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../session_datasystems/" class="md-nav__link">
        · Data Systems
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../references/" class="md-nav__link">
        References
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cloud_glossary/" class="md-nav__link">
        Cloud Glossary
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index2021/" class="md-nav__link">
        Previous 21-22 syllabus
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meeting-september-30-200-330pm" class="md-nav__link">
    Meeting September 30 2:00-3:30pm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#readings" class="md-nav__link">
    Readings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activities" class="md-nav__link">
    Activities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#post-session-discussion-points" class="md-nav__link">
    Post-session discussion points
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional-activities" class="md-nav__link">
    Optional Activities:
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="session-3-cloud-storage">Session 3: Cloud Storage</h1>
<p><img alt="storage_units" src="../img/storage_units.jpg" /></p>
<h2 id="introduction">Introduction</h2>
<p>Central to using cloud for nearly all services is storing data.   Cloud storage is quite different from what most are used to related to saving a file to your disk or USB removable media or even our HPC.   During our <a href="../session_how_to_cloud">workshop on creating a VM</a> we didn't use cloud storage, we simply create a VM "virtual disk" that is attached to the VM just like your hard drive is attached to your own computer.   However there are disadvantages to this : 
  1. the main OS disk is typically deleted when the VM is deleted, although you can create a 'durable' disk to share
  1. the data on the main OS disk is tied to that Virtual Machine and hence that operating system, that is, it's typically inaccessible from other cloud services 
  1. it is limited in size and scope  The largest of virtual disks are around 1 TB.  Azure Cloud storage accounts are limited to 5 TB and you may have multiple storage accounts. <br />
  1. You can only move data to/from a virtual or shared disk storage using a virtual machine
  1. Most importantly virtual disks very expensive compared to cloud storage </p>
<p>Cloud storage was engineered to save millions of files for millions of users and will take some changes to your approach to understanding how it works. </p>
<h2 id="meeting-september-30-200-330pm">Meeting September 30 2:00-3:30pm</h2>
<ul>
<li>
<p>Discussion and Review of previous sessions: </p>
<ul>
<li>Using the Portal</li>
<li>Creating and Using Virtual Machines</li>
</ul>
</li>
<li>
<p>Seminar <a href="azure_cloud_storage_for_researchers.html">What is cloud storage? Azure Cloud Storage for Researchers</a></p>
</li>
<li><a href="storage_pricing_exercise/">Azure Storage Pricing Exercise</a> </li>
</ul>
<h2 id="readings">Readings</h2>
<ul>
<li><a href="https://s3.us-east-2.amazonaws.com/a-book/storage.html">Storage as a Service</a> from "Cloud Computing for Science and Engineering"  </li>
<li>Azure Documentation: <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-introduction">Introduction to the core Azure Storage services
</a>  </li>
<li><a href="https://azure.microsoft.com/en-us/product-categories/storage/">Table of Azure Storage Product Offerings</a></li>
<li>Optional: this is long (27 minutes) but a good basic introduction to Azure storage: <br>
    <a href="https://docs.microsoft.com/en-us/learn/modules/azure-storage-fundamentals/">Azure Training: Explore Azure Storage services</a> ( free training from Microsoft Learn)</li>
<li>
<p>optional <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/understanding-block-blobs--append-blobs--and-page-blobs">Understanding block blobs, append blobs, and page blobs</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/azure/virtual-machines/managed-disks-overview">Introduction to Azure managed disks</a>  This has more techincal background than necessary but could be very helpful.  </p>
</li>
</ul>
<h2 id="activities">Activities</h2>
<ul>
<li>Download and install the <a href="https://azure.microsoft.com/en-us/features/storage-explorer/">Azure Cloud Storage Explorer</a>  See the <strong>"Download now"</strong> button at the top of that page.  You may review the content of the page</li>
<li>complete exercises in <a href="exercise_creating_azure_cloud_storage/">Creating Azure Cloud Storage Accounts</a> to create and use storage</li>
</ul>
<p><a href="https://learn.microsoft.com/en-us/azure/storage/files/storage-files-quick-create-use-windows?source=recommendations">https://learn.microsoft.com/en-us/azure/storage/files/storage-files-quick-create-use-windows?source=recommendations</a></p>
<h2 id="post-session-discussion-points">Post-session discussion points</h2>
<p>There are several options when creating a storage account.   For example, what is the difference LRS vs GRS?  Is the documentation describing these clear or confusing?   What conditions might you consider LRS vs GRS?  Is it worth the cost?</p>
<p>How would you share data with colleagues outside of MSU using cloud storage?    Where did you find the information for how to do that (Microsoft, Azure, Blog post, other)?   Let's say need to share 5gb of data.  After doing the pricing exercise above just for storage, what are the costs for each upload and download of 5gb?  Does it make a difference if it's Blob or File storage?</p>
<h2 id="optional-activities">Optional Activities:</h2>
<p>The following two activities walk through attaching Azure files to a VM so you can use it just like any other disk.   This is only one method for moving data to/from cloud storage to your VM, but it does not require changing your program code. </p>
<p><strong>For Windows Users: Using File Storage with Windows VM</strong> </p>
<p><a href="https://learn.microsoft.com/en-us/azure/storage/files/storage-files-quick-create-use-windows">Microsoft Tutorial: Create an SMB Azure file share and connect it to a Windows VM using the Azure portal</a></p>
<p>Notes:
- The tutorial has you create a storage account, but you can re-use the one you've already created (and change the names), or follow the tutorial and create another one. <br />
- Not all versions of Windows can use this.  For much more detail, see the Azure documentation page <a href="https://learn.microsoft.com/en-us/azure/storage/files/storage-how-to-use-files-windows">"Mount SMB Azure file share on Windows"</a></p>
<p><strong>For Linux Users: Mounting File Storage with Linux VMs using NFS</strong></p>
<p><a href="https://learn.microsoft.com/en-us/azure/storage/files/storage-files-quick-create-use-linux">Microsoft Tutorial: Create an NFS Azure file share and mount it on a Linux VM using the Azure portal</a></p>
<p><a href="https://docs.microsoft.com/en-us/azure/storage/files/storage-how-to-use-files-linux?tabs=smb311">How to mount Azure Files on Linux using SMB</a> </p>
<p>Notes: 
- SMB (invented by Microsoft for Windows) and <a href="https://learn.microsoft.com/en-us/windows-server/storage/nfs/nfs-overview">NFS</a> (invented by Sun Microsystems from Unix) are competing methods for attaching network storage.   Both were created for on-premise servers, but Azure Files storage brings this to the cloud.<br />
- this tutorial uses command line, and requires an ssh connection to the VM you create.<br />
- Knowledge of Linux systems (mount points, fstab, etc) required </p>
<p><strong>Optional: Python And Blob Storage</strong></p>
<p>This describes an a different method for moving files to/from cloud storage: using code.   This does not require you to 'mount' the storage to your VM. </p>
<p>For Intermediate Python users, and if you have time and interest, consider this tutorial from Azure: <a href="https://docs.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-python">Quickstart: Manage blobs with Python v12 SDK</a></p>
<p>Requirements:</p>
<ul>
<li>knowledge of Python </li>
<li>use the blob storage account you created in the exercise above or createa a new one</li>
<li>familiarity with Azure portal </li>
<li>Python installed on your computer (suggest python 3.6 minimal)</li>
<li>familiarity with the terminal and command line</li>
</ul>
<p>**Optional: Using Managed Disks with Linux</p>
<p>Azure Learning Tutorial : <a href="https://docs.microsoft.com/en-us/learn/modules/add-and-size-disks-in-azure-virtual-machines/">Add and size disks in Azure virtual machines</a></p>
<p>Notes: 
- Uses the Azure Command line interface which we have not discussed.  For </p>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../session_how_to_cloud/" class="md-footer__link md-footer__link--prev" aria-label="Previous: · How does the cloud work?" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              · How does the cloud work?
            </div>
          </div>
        </a>
      
      
        
        <a href="../session_datasystems/" class="md-footer__link md-footer__link--next" aria-label="Next: · Data Systems" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              · Data Systems
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections"], "search": "../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>